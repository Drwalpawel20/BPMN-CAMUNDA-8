<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:modeler="http://camunda.org/schema/modeler/1.0" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:i18n="http://www.omg.org/spec/BPMN/non-normative/extensions/i18n/1.0" xmlns:signavio="http://www.signavio.com" id="sid-8f8fca19-30cc-4945-a524-e2570d86b460" targetNamespace="http://www.signavio.com" expressionLanguage="http://www.w3.org/TR/XPath" exporter="Camunda Web Modeler" exporterVersion="f0b992f" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.8.0" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd">
  <error id="Error_EmailFailed_Allocation" name="EMAIL_FAILED" errorCode="EMAIL_FAILED" />
  <process id="Process_StudentParkingAllocation" processType="None" isClosed="false" isExecutable="true">
    <extensionElements>
      <signavio:signavioDiagramMetaData metaKey="revisionid" metaValue="947883a5c6a94be192acd6f5a75c8199" />
    </extensionElements>
    <endEvent id="EndEvent_StudentCaseClosed" name="Student Case Closed">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffff" />
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
      <incoming>Flow_SendDecision_to_End</incoming>
    </endEvent>
    <task id="Task_HandleEmailDeliveryFailure" name="Handle Email Delivery Failure&#10;(Retry or Notify Administrator)">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffcc" />
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
      <incoming>Flow_EmailError_to_Handler</incoming>
      <outgoing>Flow_Handler_to_LoggedEnd</outgoing>
    </task>
    <endEvent id="EndEvent_EmailDeliveryFailureLogged" name="Email Delivery Failure Logged">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffff" />
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
      <incoming>Flow_Handler_to_LoggedEnd</incoming>
    </endEvent>
    <boundaryEvent id="BoundaryEvent_EmailError" name="" attachedToRef="ServiceTask_SendDecisionEmailApproved">
      <outgoing>Flow_EmailError_to_Handler</outgoing>
      <errorEventDefinition id="ErrorEventDef_EmailError" errorRef="Error_EmailFailed_Allocation" />
    </boundaryEvent>
    <sequenceFlow id="Flow_Allocate_to_SendDecision" name="" sourceRef="ServiceTask_AllocateParkingSpaces" targetRef="ServiceTask_SendDecisionEmailApproved">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="Flow_SendDecision_to_End" name="" sourceRef="ServiceTask_SendDecisionEmailApproved" targetRef="EndEvent_StudentCaseClosed">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="Flow_Handler_to_LoggedEnd" name="" sourceRef="Task_HandleEmailDeliveryFailure" targetRef="EndEvent_EmailDeliveryFailureLogged">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="Flow_EmailError_to_Handler" name="" sourceRef="BoundaryEvent_EmailError" targetRef="Task_HandleEmailDeliveryFailure">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="Flow_Start_to_Rank" name="" sourceRef="StartEvent_RankingEvaluation" targetRef="ServiceTask_RankStudents">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <serviceTask id="ServiceTask_AllocateParkingSpaces" name="Allocate Available Parking Spaces">
      <extensionElements>
        <zeebe:taskDefinition type="assign-free-spots-to-candidates" />
      </extensionElements>
      <incoming>Flow_Rank_to_Allocate</incoming>
      <outgoing>Flow_Allocate_to_SendDecision</outgoing>
    </serviceTask>
    <serviceTask id="ServiceTask_SendDecisionEmailApproved" name="Send Decision Email – Student Approved">
      <extensionElements>
        <zeebe:taskDefinition type="send-decisions-emails" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;Zostałeś zakfalifikowany - otzymujesz miejsce parkingowe&#34;" target="decision" />
        </zeebe:ioMapping>
      </extensionElements>
      <incoming>Flow_Allocate_to_SendDecision</incoming>
      <outgoing>Flow_SendDecision_to_End</outgoing>
    </serviceTask>
    <serviceTask id="ServiceTask_RankStudents" name="Rank Students by Travel Distance">
      <extensionElements>
        <zeebe:taskDefinition type="rank_students_by_distance" />
      </extensionElements>
      <incoming>Flow_Start_to_Rank</incoming>
      <outgoing>Flow_Rank_to_Allocate</outgoing>
    </serviceTask>
    <startEvent id="StartEvent_RankingEvaluation" name="Ranking Evaluation - Date">
      <outgoing>Flow_Start_to_Rank</outgoing>
      <timerEventDefinition id="TimerEventDefinition_07kjha8">
        <timeDate xsi:type="tFormalExpression">2025-12-17T07:05:00Z</timeDate>
      </timerEventDefinition>
    </startEvent>
    <sequenceFlow id="Flow_Rank_to_Allocate" sourceRef="ServiceTask_RankStudents" targetRef="ServiceTask_AllocateParkingSpaces" />
  </process>
  <bpmndi:BPMNDiagram id="sid-463c95ad-e30d-4a35-9180-52cd5164f004">
    <bpmndi:BPMNPlane id="sid-d68e80aa-430e-4709-93ed-aa033534652b" bpmnElement="Process_StudentParkingAllocation">
      <bpmndi:BPMNShape id="sid-AB838D7D-6502-4A69-BB14-03A78E2808A9_gui" bpmnElement="EndEvent_StudentCaseClosed">
        <omgdc:Bounds x="800" y="712" width="28" height="28" />
        <bpmndi:BPMNLabel labelStyle="sid-f2a95492-be30-4276-bd6d-29969ee0214d">
          <omgdc:Bounds x="781" y="742" width="67" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="sid-37BC4763-772A-47A4-AD37-503D75BB4A2C_gui" bpmnElement="Task_HandleEmailDeliveryFailure">
        <omgdc:Bounds x="580" y="470" width="100" height="80" />
        <bpmndi:BPMNLabel labelStyle="sid-7c066dcd-29d6-425b-a08a-e69977581df4">
          <omgdc:Bounds x="587.5714263916016" y="484" width="84.85714721679688" height="48" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="sid-8E1EEF2E-165F-4975-A5BC-6E8C96AC5C4E_gui" bpmnElement="EndEvent_EmailDeliveryFailureLogged">
        <omgdc:Bounds x="800" y="587" width="28" height="28" />
        <bpmndi:BPMNLabel labelStyle="sid-f2a95492-be30-4276-bd6d-29969ee0214d">
          <omgdc:Bounds x="777" y="617" width="74" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_19suez8_di" bpmnElement="ServiceTask_AllocateParkingSpaces">
        <omgdc:Bounds x="160" y="650" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0k55dmr_di" bpmnElement="ServiceTask_SendDecisionEmailApproved">
        <omgdc:Bounds x="580" y="660" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_157w7ee_di" bpmnElement="ServiceTask_RankStudents">
        <omgdc:Bounds x="170" y="380" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0qi1z3r_di" bpmnElement="StartEvent_RankingEvaluation">
        <omgdc:Bounds x="212" y="132" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="189" y="82" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="sid-19F4085C-3100-44DA-9E28-12B4DC7905FC_gui" bpmnElement="BoundaryEvent_EmailError">
        <omgdc:Bounds x="615" y="645" width="30" height="30" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="sid-210D7941-A58D-42AB-8222-5E94545C90B6_gui" bpmnElement="Flow_Allocate_to_SendDecision">
        <omgdi:waypoint x="260" y="690" />
        <omgdi:waypoint x="411" y="690" />
        <omgdi:waypoint x="411" y="700" />
        <omgdi:waypoint x="580" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-78ED8A2F-82B6-4600-8D1C-625D06A31427_gui" bpmnElement="Flow_SendDecision_to_End">
        <omgdi:waypoint x="680" y="700" />
        <omgdi:waypoint x="740" y="700" />
        <omgdi:waypoint x="740" y="726" />
        <omgdi:waypoint x="800" y="726" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-235FEE69-0EDE-4ED0-B90E-412A0F0A9283_gui" bpmnElement="Flow_Handler_to_LoggedEnd">
        <omgdi:waypoint x="680" y="510" />
        <omgdi:waypoint x="740" y="510" />
        <omgdi:waypoint x="740" y="601" />
        <omgdi:waypoint x="800" y="601" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-785313B5-2EF7-492B-AAD2-89EA41BEDA5E_gui" bpmnElement="Flow_EmailError_to_Handler">
        <omgdi:waypoint x="630" y="645" />
        <omgdi:waypoint x="630" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-8B3C3A69-2618-4D5C-A5CD-A8F7EB3FFEAE_gui" bpmnElement="Flow_Start_to_Rank">
        <omgdi:waypoint x="230" y="168" />
        <omgdi:waypoint x="230" y="344" />
        <omgdi:waypoint x="220" y="344" />
        <omgdi:waypoint x="220" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dafp3h_di" bpmnElement="Flow_Rank_to_Allocate">
        <omgdi:waypoint x="220" y="460" />
        <omgdi:waypoint x="220" y="555" />
        <omgdi:waypoint x="210" y="555" />
        <omgdi:waypoint x="210" y="650" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
    <bpmndi:BPMNLabelStyle id="sid-f2a95492-be30-4276-bd6d-29969ee0214d">
      <omgdc:Font name="Arial" size="11" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" />
    </bpmndi:BPMNLabelStyle>
    <bpmndi:BPMNLabelStyle id="sid-7c066dcd-29d6-425b-a08a-e69977581df4">
      <omgdc:Font name="Arial" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" />
    </bpmndi:BPMNLabelStyle>
  </bpmndi:BPMNDiagram>
</definitions>
