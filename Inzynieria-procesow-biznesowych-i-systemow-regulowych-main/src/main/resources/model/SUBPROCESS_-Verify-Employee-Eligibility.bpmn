<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:modeler="http://camunda.org/schema/modeler/1.0" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:i18n="http://www.omg.org/spec/BPMN/non-normative/extensions/i18n/1.0" xmlns:signavio="http://www.signavio.com" id="sid-62ca75d0-ea65-4edd-98bf-79ec0bbed8cc" targetNamespace="http://www.signavio.com" expressionLanguage="http://www.w3.org/TR/XPath" exporter="Camunda Web Modeler" exporterVersion="fd2b2b2" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.8.0" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd">
  <error id="sid-56843feb-5a7c-41e4-814c-05dedf246964" errorCode="error" />
  <process id="Process_VerifyEmployeeEligibility" name="Verify Employee Eligibility" processType="None" isClosed="false" isExecutable="true">
    <extensionElements>
      <signavio:signavioDiagramMetaData metaKey="revisionid" metaValue="eb412dda3a21446c8e85540ffc3a276f" />
    </extensionElements>
    <startEvent id="StartEvent_EmployeeVerificationStarted" name="Employee Verification Started">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffff" />
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
      <outgoing>Flow_Start_to_CheckID</outgoing>
    </startEvent>
    <exclusiveGateway id="Gateway_EmployeeIDValid" name="Employee ID Valid?" gatewayDirection="Diverging">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffff" />
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
        <signavio:signavioLabel bottom="false" left="false" ref="text_name" right="true" top="false" valign="middle" x="45.0" y="20.0" />
      </extensionElements>
      <incoming>Flow_CheckID_to_Gateway</incoming>
      <outgoing>Flow_ID_Invalid_to_Rejection</outgoing>
      <outgoing>Flow_ID_Valid_to_End</outgoing>
    </exclusiveGateway>
    <endEvent id="EndEvent_EmployeeEligibilityVerified" name="Employee Eligibility Verified">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffff" />
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
        <zeebe:ioMapping>
          <zeebe:output source="=&#34;decyzja rozpatrzona pozytywnie&#34;" target="decision" />
          <zeebe:output source="=&#34;aproved&#34;" target="veryfication" />
        </zeebe:ioMapping>
      </extensionElements>
      <incoming>Flow_ID_Valid_to_End</incoming>
    </endEvent>
    <task id="Task_HandleEmailDeliveryFailure" name="Handle Email Delivery Failure &#10;(Retry or Notify Administrator)">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffcc" />
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
      <incoming>Flow_EmailError_to_Handler</incoming>
      <outgoing>Flow_Handler_to_LoggedEnd</outgoing>
    </task>
    <boundaryEvent id="BoundaryEvent_EmailError" name="" attachedToRef="ServiceTask_SendRejectionEmailInvalidID">
      <outgoing>Flow_EmailError_to_Handler</outgoing>
      <errorEventDefinition id="ErrorEventDef_EmailError" errorRef="Error_EmailSendException" />
    </boundaryEvent>
    <sequenceFlow id="Flow_Start_to_CheckID" name="" sourceRef="StartEvent_EmployeeVerificationStarted" targetRef="ServiceTask_CheckEmployeeIDValidity">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="Flow_CheckID_to_Gateway" name="" sourceRef="ServiceTask_CheckEmployeeIDValidity" targetRef="Gateway_EmployeeIDValid">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="Flow_ID_Invalid_to_Rejection" name="No" sourceRef="Gateway_EmployeeIDValid" targetRef="ServiceTask_SendRejectionEmailInvalidID">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
      <conditionExpression xsi:type="tFormalExpression">=employee_id_valid=false</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="Flow_ID_Valid_to_End" name="Yes" sourceRef="Gateway_EmployeeIDValid" targetRef="EndEvent_EmployeeEligibilityVerified">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
      <conditionExpression xsi:type="tFormalExpression">=employee_id_valid=true</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="Flow_Rejection_to_FailedEnd" name="" sourceRef="ServiceTask_SendRejectionEmailInvalidID" targetRef="EndEvent_EligibilityFailed">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="Flow_Handler_to_LoggedEnd" name="" sourceRef="Task_HandleEmailDeliveryFailure" targetRef="EndEvent_EmailDeliveryFailureLogged">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="Flow_EmailError_to_Handler" name="" sourceRef="BoundaryEvent_EmailError" targetRef="Task_HandleEmailDeliveryFailure">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000" />
      </extensionElements>
    </sequenceFlow>
    <serviceTask id="ServiceTask_CheckEmployeeIDValidity" name="Check Employee ID Validity">
      <extensionElements>
        <zeebe:taskDefinition type="employee-id-validator-worker" />
      </extensionElements>
      <incoming>Flow_Start_to_CheckID</incoming>
      <outgoing>Flow_CheckID_to_Gateway</outgoing>
    </serviceTask>
    <serviceTask id="ServiceTask_SendRejectionEmailInvalidID" name="Send Rejection Email – Invalid Employee ID">
      <extensionElements>
        <zeebe:taskDefinition type="send-decision-email" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;weryfikacja nie przebiegła pomyślnie odmowa przydzielenia miejsca parkingowego&#34;" target="decision" />
        </zeebe:ioMapping>
      </extensionElements>
      <incoming>Flow_ID_Invalid_to_Rejection</incoming>
      <outgoing>Flow_Rejection_to_FailedEnd</outgoing>
    </serviceTask>
    <endEvent id="EndEvent_EligibilityFailed" name="Eligibility Failed">
      <extensionElements />
      <incoming>Flow_Rejection_to_FailedEnd</incoming>
      <errorEventDefinition id="ErrorEventDef_EligibilityFailed" errorRef="Error_VerificationFailed" />
    </endEvent>
    <endEvent id="EndEvent_EmailDeliveryFailureLogged" name="Email Delivery Failure Logged">
      <extensionElements />
      <incoming>Flow_Handler_to_LoggedEnd</incoming>
      <errorEventDefinition id="ErrorEventDef_EmailLogged" errorRef="Error_VerificationFailed" />
    </endEvent>
  </process>
  <error id="Error_VerificationFailed" name="veryfication fail" errorCode="veryfication_fail" />
  <error id="Error_EmailSendException" name="exceptionEmailSendException" errorCode="EMAIL_FAILED" />
  <bpmndi:BPMNDiagram id="sid-82cc7adb-f044-4280-b67f-2bf281baee91">
    <bpmndi:BPMNPlane id="sid-d8a0d0f0-c3e7-4cb1-837f-425da5a97f0e" bpmnElement="Process_VerifyEmployeeEligibility">
      <bpmndi:BPMNShape id="sid-37C5CE4C-6561-464F-A3BB-6589F07CA8C3_gui" bpmnElement="StartEvent_EmployeeVerificationStarted">
        <omgdc:Bounds x="210" y="370" width="30" height="30" />
        <bpmndi:BPMNLabel labelStyle="sid-c4aff306-9933-40c6-ba4b-9ff9d76f8d59">
          <omgdc:Bounds x="151.8107147216797" y="402" width="146.37857055664062" height="11" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="sid-409A64EB-6887-4921-AAC7-C56882F2EAC5_gui" bpmnElement="Gateway_EmployeeIDValid" isMarkerVisible="true">
        <omgdc:Bounds x="550" y="365" width="40" height="40" />
        <bpmndi:BPMNLabel labelStyle="sid-c4aff306-9933-40c6-ba4b-9ff9d76f8d59">
          <omgdc:Bounds x="595" y="377" width="103.37142944335938" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="sid-DAFACF5E-F453-4102-A1E9-8D5D3C469EAE_gui" bpmnElement="EndEvent_EmployeeEligibilityVerified">
        <omgdc:Bounds x="706" y="490" width="28" height="28" />
        <bpmndi:BPMNLabel labelStyle="sid-c4aff306-9933-40c6-ba4b-9ff9d76f8d59">
          <omgdc:Bounds x="653.5285720825195" y="520" width="132.94285583496094" height="11" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="sid-28F12DCE-FD48-4562-986F-CD959D5BD936_gui" bpmnElement="Task_HandleEmailDeliveryFailure">
        <omgdc:Bounds x="670" y="202.5" width="100" height="80" />
        <bpmndi:BPMNLabel labelStyle="sid-cc4b7494-dfd7-4156-b90a-058b56da12ce">
          <omgdc:Bounds x="677.5714263916016" y="216.5" width="84.85714721679688" height="48" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1hchib5_di" bpmnElement="ServiceTask_CheckEmployeeIDValidity">
        <omgdc:Bounds x="350" y="360" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_07z401m_di" bpmnElement="ServiceTask_SendRejectionEmailInvalidID">
        <omgdc:Bounds x="660" y="60" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1z049uv_di" bpmnElement="EndEvent_EligibilityFailed">
        <omgdc:Bounds x="850" y="86" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="826" y="116" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0k37lzy_di" bpmnElement="EndEvent_EmailDeliveryFailureLogged">
        <omgdc:Bounds x="848" y="229" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="825" y="259" width="74" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="sid-55A06672-65A6-4ADA-9F9B-1B333A648498_gui" bpmnElement="BoundaryEvent_EmailError">
        <omgdc:Bounds x="695" y="125" width="30" height="30" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="sid-8C221EDE-2D7F-4076-A315-A049085F4318_gui" bpmnElement="Flow_Start_to_CheckID">
        <omgdi:waypoint x="240" y="385" />
        <omgdi:waypoint x="270" y="385" />
        <omgdi:waypoint x="270" y="410" />
        <omgdi:waypoint x="350" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-6334E896-03B0-4B9E-B614-FBDF8CE48CFF_gui" bpmnElement="Flow_CheckID_to_Gateway">
        <omgdi:waypoint x="450" y="420" />
        <omgdi:waypoint x="500" y="420" />
        <omgdi:waypoint x="500" y="385" />
        <omgdi:waypoint x="550" y="385" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-47D28F90-03D8-40D0-BB80-014E8A3A1313_gui" bpmnElement="Flow_ID_Invalid_to_Rejection">
        <omgdi:waypoint x="571" y="366" />
        <omgdi:waypoint x="570.5" y="100" />
        <omgdi:waypoint x="660" y="100" />
        <bpmndi:BPMNLabel labelStyle="sid-c4aff306-9933-40c6-ba4b-9ff9d76f8d59">
          <omgdc:Bounds x="576" y="343" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-71F48D61-F5BD-4E21-A01F-D78ADF19C249_gui" bpmnElement="Flow_ID_Valid_to_End">
        <omgdi:waypoint x="570.5" y="405" />
        <omgdi:waypoint x="570.5" y="504" />
        <omgdi:waypoint x="706" y="504" />
        <bpmndi:BPMNLabel labelStyle="sid-c4aff306-9933-40c6-ba4b-9ff9d76f8d59">
          <omgdc:Bounds x="548" y="413" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-7CE14733-A9D7-4609-A80C-A2A7D45AA7F1_gui" bpmnElement="Flow_Rejection_to_FailedEnd">
        <omgdi:waypoint x="760" y="100" />
        <omgdi:waypoint x="850" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-674FD50C-DE62-46D8-BAA4-B169BBAB0A20_gui" bpmnElement="Flow_Handler_to_LoggedEnd">
        <omgdi:waypoint x="770" y="243" />
        <omgdi:waypoint x="848" y="243" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="sid-E4510138-9C8C-4842-8A60-D83C653F3875_gui" bpmnElement="Flow_EmailError_to_Handler">
        <omgdi:waypoint x="710" y="155" />
        <omgdi:waypoint x="710" y="179" />
        <omgdi:waypoint x="720" y="179" />
        <omgdi:waypoint x="720" y="203" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
    <bpmndi:BPMNLabelStyle id="sid-c4aff306-9933-40c6-ba4b-9ff9d76f8d59">
      <omgdc:Font name="Arial" size="11" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" />
    </bpmndi:BPMNLabelStyle>
    <bpmndi:BPMNLabelStyle id="sid-cc4b7494-dfd7-4156-b90a-058b56da12ce">
      <omgdc:Font name="Arial" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" />
    </bpmndi:BPMNLabelStyle>
  </bpmndi:BPMNDiagram>
</definitions>